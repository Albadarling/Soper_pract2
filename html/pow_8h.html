<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>POW_PRA1: pow.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">POW_PRA1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">pow.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Computation of the POW.ðŸ’©  
<a href="#details">More...</a></p>

<p><a href="pow_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structthread__data.html">thread_data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a67668dcd9741850b3ca54c77e7c4d813"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pow_8h.html#a67668dcd9741850b3ca54c77e7c4d813">POW_LIMIT</a>&#160;&#160;&#160;99997669</td></tr>
<tr class="separator:a67668dcd9741850b3ca54c77e7c4d813"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a7f18f261743cf8120ff727e52eda988c"><td class="memItemLeft" align="right" valign="top"><a id="a7f18f261743cf8120ff727e52eda988c"></a>
typedef struct <a class="el" href="structthread__data.html">thread_data</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TData</b></td></tr>
<tr class="separator:a7f18f261743cf8120ff727e52eda988c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a55a671a56836a3e49010852dce91c511"><td class="memItemLeft" align="right" valign="top">long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pow_8h.html#a55a671a56836a3e49010852dce91c511">pow_hash</a> (long int x)</td></tr>
<tr class="memdesc:a55a671a56836a3e49010852dce91c511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the following hash function: f(x) = (X x + Y) % P.  <a href="pow_8h.html#a55a671a56836a3e49010852dce91c511">More...</a><br /></td></tr>
<tr class="separator:a55a671a56836a3e49010852dce91c511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b97f752f3c17e5e5b8eb4d036b0089"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pow_8h.html#af8b97f752f3c17e5e5b8eb4d036b0089">minar</a> (void *d2)</td></tr>
<tr class="memdesc:af8b97f752f3c17e5e5b8eb4d036b0089"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the thread call the <a class="el" href="pow_8h.html#a55a671a56836a3e49010852dce91c511" title="Computes the following hash function: f(x) = (X x + Y) % P.">pow_hash(long int x)</a> function and updates the global variable: solution_flag if they find the result.  <a href="pow_8h.html#af8b97f752f3c17e5e5b8eb4d036b0089">More...</a><br /></td></tr>
<tr class="separator:af8b97f752f3c17e5e5b8eb4d036b0089"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f8af7e78c8e3a0fe65e7468df8beb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pow_8h.html#ae2f8af7e78c8e3a0fe65e7468df8beb5">minero</a> (int target, int nhilos, int rondas, int tube_miner[2], int tube_monitor[2])</td></tr>
<tr class="memdesc:ae2f8af7e78c8e3a0fe65e7468df8beb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the threads and calls the function <a class="el" href="pow_8h.html#af8b97f752f3c17e5e5b8eb4d036b0089" title="Makes the thread call the pow_hash(long int x) function and updates the global variable: solution_fla...">minar(void *d2)</a>  <a href="pow_8h.html#ae2f8af7e78c8e3a0fe65e7468df8beb5">More...</a><br /></td></tr>
<tr class="separator:ae2f8af7e78c8e3a0fe65e7468df8beb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a762ac5edc02ddfd8bbe6b2fa2de761a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pow_8h.html#a762ac5edc02ddfd8bbe6b2fa2de761a4">monitor</a> (int target, int rondas, int tube_miner[2], int tube_monitor[2])</td></tr>
<tr class="memdesc:a762ac5edc02ddfd8bbe6b2fa2de761a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the results of each round sent through the pipe by the function minero(..) and sends back to minero(..) if they are correct.  <a href="pow_8h.html#a762ac5edc02ddfd8bbe6b2fa2de761a4">More...</a><br /></td></tr>
<tr class="separator:a762ac5edc02ddfd8bbe6b2fa2de761a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c6bbf609eb546c4c253b7e984049923"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pow_8h.html#a7c6bbf609eb546c4c253b7e984049923">printWaitStatus</a> (int status, char *type)</td></tr>
<tr class="memdesc:a7c6bbf609eb546c4c253b7e984049923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the status of the function in the terminal and checks if the status was correct, if not looks for the signal that killed the process and it prints it in the terminal.  <a href="pow_8h.html#a7c6bbf609eb546c4c253b7e984049923">More...</a><br /></td></tr>
<tr class="separator:a7c6bbf609eb546c4c253b7e984049923"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Computation of the POW.ðŸ’© </p>
<dl class="section author"><dt>Author</dt><dd>Fernando Ã“nega and Alba Delgado </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022-02-28</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2022 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a67668dcd9741850b3ca54c77e7c4d813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67668dcd9741850b3ca54c77e7c4d813">&#9670;&nbsp;</a></span>POW_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POW_LIMIT&#160;&#160;&#160;99997669</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum number for the hash result. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af8b97f752f3c17e5e5b8eb4d036b0089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8b97f752f3c17e5e5b8eb4d036b0089">&#9670;&nbsp;</a></span>minar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void minar </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>d2</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes the thread call the <a class="el" href="pow_8h.html#a55a671a56836a3e49010852dce91c511" title="Computes the following hash function: f(x) = (X x + Y) % P.">pow_hash(long int x)</a> function and updates the global variable: solution_flag if they find the result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d2</td><td>a pointer to the struct Tdata (defined above with target,start and *k). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Doesn't return anything since it's a void function. </dd></dl>

</div>
</div>
<a id="ae2f8af7e78c8e3a0fe65e7468df8beb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f8af7e78c8e3a0fe65e7468df8beb5">&#9670;&nbsp;</a></span>minero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int minero </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nhilos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rondas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tube_miner</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tube_monitor</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the threads and calls the function <a class="el" href="pow_8h.html#af8b97f752f3c17e5e5b8eb4d036b0089" title="Makes the thread call the pow_hash(long int x) function and updates the global variable: solution_fla...">minar(void *d2)</a> </p>
<p>s </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>is the number we are looking for, nhilos is the number of threads, rondas is the the number of rounds, tube_miner[2] and tube_miner[2] are the pipes to communicate between processes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if the function was executed correctly and 1 if there was any error. </dd></dl>

</div>
</div>
<a id="a762ac5edc02ddfd8bbe6b2fa2de761a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a762ac5edc02ddfd8bbe6b2fa2de761a4">&#9670;&nbsp;</a></span>monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int monitor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rondas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tube_miner</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tube_monitor</em>[2]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the results of each round sent through the pipe by the function minero(..) and sends back to minero(..) if they are correct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>is the number we are looking for, rondas is the number of rounds, tube_miner[2] and tube_miner[2] are the pipes to communicate between processes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns 0 if the function was executed correctly and 1 if there was any error. </dd></dl>

</div>
</div>
<a id="a55a671a56836a3e49010852dce91c511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55a671a56836a3e49010852dce91c511">&#9670;&nbsp;</a></span>pow_hash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long int pow_hash </td>
          <td>(</td>
          <td class="paramtype">long int&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the following hash function: f(x) = (X x + Y) % P. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Argument of the hash function, x. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of the hash function, f(x). </dd></dl>

</div>
</div>
<a id="a7c6bbf609eb546c4c253b7e984049923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c6bbf609eb546c4c253b7e984049923">&#9670;&nbsp;</a></span>printWaitStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printWaitStatus </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the status of the function in the terminal and checks if the status was correct, if not looks for the signal that killed the process and it prints it in the terminal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Argument of the hash function, x.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result of the hash function, f(x). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
